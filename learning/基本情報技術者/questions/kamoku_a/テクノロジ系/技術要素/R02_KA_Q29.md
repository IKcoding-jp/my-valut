---
id: R02_KA_Q29
year: R02
kamoku: A
number: 29
type: 暗記
field: テクノロジ系 » データベース »トランザクション処理
difficulty: 3
status: 未学習
source: "出典：令和2年度 基本情報技術者試験 科目A 問29"
source_url: "https://www.fe-siken.com/kakomon/02_menjo/q29.html"
last_attempt: null
confidence_history: []
result_history: []
time_spent_seconds: []
---

## 問題
"商品"表に対して，更新SQL文を実行するトランザクションが，デッドロックの発生によって異常終了した。異常終了後の"商品"表はどれか。ここで，"商品"表に対する他のトランザクションは，参照は行うが更新はしないものとする。![29.png/image-size:219×112](https://www.fe-siken.com/kakomon/02_menjo/img/29.png)〔更新SQL文〕DELETE FROM 商品 WHERE 商品コード = 'B020'

## 選択肢
- ア: ![29a.png/image-size:218×102](https://www.fe-siken.com/kakomon/02_menjo/img/29a.png)
- イ: ![29i.png/image-size:218×102](https://www.fe-siken.com/kakomon/02_menjo/img/29i.png)
- ウ: ![29u.png/image-size:218×78](https://www.fe-siken.com/kakomon/02_menjo/img/29u.png)
- エ: ![29e.png/image-size:219×54](https://www.fe-siken.com/kakomon/02_menjo/img/29e.png)

## 正解
イ

## 解説
トランザクションには「トランザクション内の処理がすべて実行されるか、または全く実行されないというどちらかの状態で終了しなければならない」という特性が要求されます。この特性をトランザクションの原子性(Atomicity)といいます。
障害やデッドロックによってトランザクションが正常終了しなかったときは、原子性を保証するために、DBMSはトランザクションの更新前ログを使用してデータベースをトランザクション開始直前の状態に戻す
ロールバック
を行います。これにより、データベースは何の処理も行わなかったのと同じ状態に戻ります。
したがって、異常終了後の表の状態はSQL文実行前と同じ状態の「イ」となります。

### 関連概念
- [[DELETE]]
- [[FROM]]
- [[WHERE]]
- [[データベース]]
- [[トランザクション]]
