---
id: R05_KB_Q03
year: R05
kamoku: B
number: 3
type: アルゴリズム
subtopic: 二分探索
difficulty: 3
status: 未学習
last_attempt: null
confidence_history: []
result_history: []
time_spent_seconds: []
---

## 問題

次のプログラムは、昇順に整列済みの整数型の配列 `data` から目的の値 `target` を二分探索で探し、見つかった場合はその添字を、見つからなかった場合は `-1` を返す。

配列 `data` が `{2, 5, 8, 12, 16, 23, 38, 42}` で、`target` が `23` のとき、`return` 文が実行される時点での変数 `mid` の値として正しいものはどれか。

ただし、配列の添字は 0 から始まるものとする。また、`a ÷ b` は a を b で割った商の整数部分を返すものとする。

```
○整数型: binarySearch(整数型の配列: data, 整数型: target)
  整数型: low, high, mid
  low ← 0
  high ← data の要素数 - 1
  while (low ≦ high)
    mid ← (low + high) ÷ 2
    if (data[mid] = target)
      return mid
    elseif (data[mid] < target)
      low ← mid + 1
    else
      high ← mid - 1
    endif
  endwhile
  return -1
```

## 選択肢
- ア: 3
- イ: 4
- ウ: 5
- エ: 6

## 正解
ウ

## 解説

### トレース過程

配列 `data = {2, 5, 8, 12, 16, 23, 38, 42}`（添字 0〜7）、`target = 23`

初期値: `low = 0`、`high = 7`

**--- ループ1回目 ---**

- `mid = (0 + 7) ÷ 2 = 3`（7÷2=3 あまり1、整数部分は 3）
- `data[3] = 12`
- `12 = 23?` → 偽
- `12 < 23?` → 真 → `low = 3 + 1 = 4`

状態: `low = 4`、`high = 7`

**--- ループ2回目 ---**

- `mid = (4 + 7) ÷ 2 = 5`（11÷2=5 あまり1、整数部分は 5）
- `data[5] = 23`
- `23 = 23?` → 真 → `return 5`（mid の値は 5）

### 正解の理由

2回目のループで `mid = 5` となり、`data[5] = 23` が `target = 23` と一致するため、`return mid` が実行される。この時点での `mid` の値は `5` である。よって正解は **ウ** である。

### アルゴリズムのポイント
- 二分探索は「探索範囲を毎回半分に絞る」ことで高速に探索するアルゴリズム
- 前提条件: 配列が昇順（または降順）にソートされていること
- `mid` の計算で整数除算（切り捨て）を使う点に注意
- 線形探索が O(n) なのに対し、二分探索は O(log n) と格段に速い
- トレースでは `low`、`high`、`mid` の3変数の変化を丁寧に追うことがコツ

### 類似パターン
- [[R05_KB_Q01]]（線形探索 - 二分探索との比較で理解が深まる）
- [[二分探索で見つからない場合のトレース]]（while ループが終了して -1 を返すパターン）
