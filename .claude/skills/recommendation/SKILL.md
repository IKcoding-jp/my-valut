---
name: recommendation
description: >-
  学習推奨ナビ。「今日何やる？」「次何する？」「おすすめは？」「何から始めればいい？」
  「カウントダウン」「残り日数は？」「今日の方針」等で起動。
  データ分析→根拠付きTOP3提案→即学習開始を一気通貫で実行。
  studyセッション開始時の「おまかせ」選択でも起動する。
---

# 学習推奨ナビ（recommendation）

データ分析に基づいた根拠付きのTOP3タスク提案を行い、そのまま study セッション開始につなげるスキル。

---

## ステップ1: データ読み込み

以下の4ソースを読み込む:

1. **`learning/進捗ログ.md`** — 分野別正答率、危険問題リスト、セッション履歴
2. **`learning/学習計画書_資格同時取得.md`** — 現在のフェーズ、週別スケジュール
3. **`learning/memory_logs.md`** — 直近2-3エントリ（心理状態・マイルストーン）
4. **`learning/学習記録/`** — 最新3日分（空白期間・つまずきの検知）

追加チェック:
- memory_logs.md に「週次レトロスペクティブ」が7日以上前 or 未実施 → `/retrospective` を先に提案

---

## ステップ2: 推奨タスク選定

### 危険問題チェック（最優先）

- **3件以上**: TOP 1に「危険問題の復習」を自動挿入
- **1-2件**: TOP 3内に含める

### 優先度スコア計算

> 計算式の詳細は `references/priority-engine.md` を参照

基本スコア × トレンド係数 × 忘却係数 × 残日数調整で算出。

### 忘却曲線トラッカー

> 詳細は `references/priority-engine.md` の「忘却曲線トラッカー」セクション参照

習得済み問題の復習推奨がある場合、TOP3の前に表示する（最大5件）。

---

## ステップ3: 出力

> 出力フォーマットの詳細は `references/output-formats.md` を参照

残日数に応じてフォーマットを切り替える:
- **残り8日以上**: 通常期フォーマット
- **残り7〜2日**: 直前期フォーマット
- **残り1日**: 前日フォーマット

---

## ステップ4: study スキルへの遷移

| ユーザーの応答 | 動作 |
|---------------|------|
| 「始める」「やる」「OK」 | TOP 1のタスクで study 開始 |
| 「1」「2」「3」（番号） | 指定タスクで study 開始 |
| 「今日はいい」「休む」 | 「お疲れさまです。また明日！」で終了 |

---

## メタ認知・学習状態の検知

| 検知シグナル | 対応 |
|------------|------|
| 3日以上空白 | 「久しぶりですね！無理せず軽めから始めましょう」 |
| 連日学習中（7日以上） | 「XX日連続学習中！ナイスペース」 |
| memory_logs.md に「つらい」等 | mental-coach との連携を提案 |

---

## 注意事項

- `learning/進捗ログ.md`、`learning/学習計画書_資格同時取得.md`、`learning/memory_logs.md` は**読み取り専用**
- ダッシュボード更新は study スキルが行う
- 根拠テンプレートには**実際のデータに基づいた具体的な数字**を含める
- 優先度スコア計算は `study/references/dashboard.md` に準拠
