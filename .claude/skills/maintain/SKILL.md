---
name: maintain
description: "VaultメンテナンスSkill。ユーザーが「Vault整理」「メンテナンス」「整合性チェック」と言ったとき、または /maintain を使ったときに起動する。情報重複検出、リンク切れ確認、構造の乖離チェック、frontmatter不備チェックを行う。"
---

# Vaultメンテナンス

## チェック項目

### 1. CLAUDE.mdと実際の構造の乖離

- CLAUDE.mdに記載されているファイルパスが実際に存在するか確認
- CLAUDE.mdに記載されていないフォルダや重要ファイルがないか確認
- 参照先テーブル内のwikilinkが有効か確認

### 2. 情報の重複検出

- `profile/` 内の4ファイル間で同じ情報が重複していないか確認
- 管理原則「単一情報源」に違反している箇所を報告

### 3. wikilink切れの確認

- Vault内の `.md` ファイルを走査し、`[[...]]` 形式のリンクを抽出
- リンク先ファイルが存在するか確認
- 切れたリンクを一覧表示

### 4. frontmatterの不備

- すべての `.md` ファイル（テンプレート・LINE/除く）にfrontmatterがあるか確認
- 必須フィールド: `tags`
- 推奨フィールド: `created`, `updated`

### 5. 未使用タグの検出

- CLAUDE.mdのタグ体系に定義されているタグが実際に使われているか確認
- 定義されていないタグが使われている場合は報告

## 出力フォーマット

```
## Vault メンテナンスレポート（YYYY-MM-DD）

### 構造の整合性
- [ ] CLAUDE.md参照先: X件中 Y件OK
- 問題: ...

### 情報の重複
- 検出数: X件
- 詳細: ...

### リンク切れ
- 検出数: X件
- 詳細: ...

### frontmatter不備
- 検出数: X件
- 詳細: ...

### タグの整合性
- 未使用タグ: ...
- 未定義タグ: ...

### 推奨アクション
1. ...
2. ...
```

## 注意事項

- `.obsidian/` と `LINE/` は対象外とする
- 問題を検出した場合、自動修正はせず、まず報告してユーザーの判断を仰ぐ
- レポートはそのまま表示し、ファイルとしては保存しない（必要ならユーザーに確認）
