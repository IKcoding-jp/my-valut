---
name: daily-report
description: >-
  日次学習記録の自動生成。「今日の記録」「日報」「記録して」等で起動。
  自習内容を伝えるだけで学習記録を作成し、memory_logs.md更新、
  git commit & pushまで一気に実行する。学習セッション外の自習記録にも対応。
---

# 日次学習記録（daily-report）

学習セッションを使わず自習した日や、セッション外の学習内容を素早く記録するスキル。

---

## 実行フロー

### Step 1: 学習内容のヒアリング

ユーザーに以下を確認する（未提供の項目のみ質問）:

```
📝 今日の学習を記録しますね！
以下を教えてください（分かる範囲でOK）:

1. 何を勉強しましたか？（例: 過去問道場でセキュリティ20問）
2. だいたい何分くらい？
3. 正答率は分かりますか？（分からなければスキップ）
4. 気づいたことや苦手に感じた分野はありますか？
```

- ユーザーが最初のメッセージで既に内容を伝えている場合は、追加質問を最小限にする
- 「おまかせ」と言われたら、`learning/基本情報技術者/進捗ログ.md` のセッション履歴から推測して記録

### Step 2: 学習記録ファイルの作成・更新

1. `learning/基本情報技術者/学習記録/YYYY-MM-DD.md` が既に存在するか確認
   - **存在しない場合**: `learning/基本情報技術者/学習記録/_テンプレート.md` をベースに新規作成
   - **存在する場合**: 既存ファイルに追記（同日に複数回記録可能）

2. テンプレートの `{{date}}` を当日の日付に置換

3. ユーザーから聞いた内容で以下を埋める:
   - **基本情報**: フェーズ、学習時間
   - **学習項目**: 何を学んだか
   - **使用教材**: チェックボックスを更新
   - **問題演習の記録**: 分野別の正答数・問題数・正答率
   - **振り返り**: 気づき、苦手分野、明日やること

### Step 3: memory_logs.md に追記

`memory_logs.md` の「重要な文脈・マイルストーン」セクションに、日付付きで要点を追記:

```markdown
### YYYY-MM-DD
- [学習内容の要約（1〜3行）]
- [特筆すべき気づきやつまずき]
```

### Step 4: learning/基本情報技術者/進捗ログ.md の更新

`learning/基本情報技術者/進捗ログ.md` の以下を更新:
- `last_updated`: 現在日時
- `days_remaining`: 再計算（試験日: 2026-02-22）
- `total_study_time_minutes`: 学習時間を加算
- **セッション履歴テーブル**: 新しい行を追加

### Step 5: サマリー表示

```
✅ 記録完了！

📅 YYYY-MM-DD の学習記録
━━━━━━━━━━━━━━━━━━━━━
・学習内容: [要約]
・学習時間: XX分
・問題数: XX問（正答率 XX%）
・試験まであと XX 日
━━━━━━━━━━━━━━━━━━━━━
```

### Step 6: Git コミット & プッシュ

変更されたファイルをまとめてコミット & プッシュ:

```bash
git add learning/基本情報技術者/学習記録/YYYY-MM-DD.md memory_logs.md learning/基本情報技術者/進捗ログ.md
git commit -m "YYYY-MM-DD 学習記録を追加"
git push
```

---

## 特別ケース

### Claude.aiからのフィードバック込みの場合

ユーザーが「Claude.aiで勉強した内容も含めて」と言った場合:
1. Claude.aiでの学習内容もヒアリング
2. 学習記録の「使用教材」に「Claude.ai（外出先学習）」を追加
3. `memory_logs.md` に「Claude.ai連携: [内容]」と記録

### 問題ファイルの更新が必要な場合

ユーザーが具体的な問題IDと結果を伝えた場合（例: 「R05の問3はイで正解だった」）:
- 該当する `questions/` 配下の問題ファイルの frontmatter も更新する
- ただし、詳細が不明な場合は無理に更新しない（学習記録のみで十分）

---

## 注意事項

- 記録作業を最小限の対話で完了させる（スピード重視）
- ユーザーの入力負担を極限まで減らす
